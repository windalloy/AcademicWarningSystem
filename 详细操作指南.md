# 大学生学业预警与成绩分析系统 - 详细操作指南

## 📚 目录
1. [系统简介](#系统简介)
2. [准备工作](#准备工作)
3. [启动程序](#启动程序)
4. [连接数据库](#连接数据库)
5. [初始化数据库](#初始化数据库)
6. [使用功能](#使用功能)
7. [常见问题](#常见问题)

---

## 系统简介

### 这个系统是做什么的？
这是一个**学生成绩管理系统**，可以：
- 管理学生信息（添加、修改、删除学生）
- 管理课程信息
- 录入学生成绩
- **自动计算** GPA（平均绩点）和总学分
- **自动筛选**需要预警的学生（学分不足、挂科太多等）
- 查看各种统计报表

### 系统架构
```
您的电脑
├── Python 程序（图形界面）
│   └── 通过代码连接数据库
└── MySQL 数据库（存储数据）
    └── 存储学生、课程、成绩等信息
```

**简单理解**：
- **Python 程序** = 您看到的窗口界面（用来操作）
- **MySQL 数据库** = 存储数据的仓库（用来保存）

---

## 准备工作

### 第一步：检查是否已安装 Python

1. **打开命令提示符（CMD）或 PowerShell**
   - 按 `Win + R` 键
   - 输入 `cmd` 或 `powershell`
   - 按回车

2. **输入命令检查 Python**
   ```bash
   python --version
   ```
   或
   ```bash
   python -V
   ```

3. **如果显示版本号**（如 `Python 3.9.0`）
   - ✅ Python 已安装，继续下一步

4. **如果显示"不是内部或外部命令"**
   - ❌ 需要先安装 Python
   - 下载地址：https://www.python.org/downloads/
   - 安装时**务必勾选** "Add Python to PATH"

### 第二步：检查是否已安装 MySQL

1. **检查 MySQL 服务**
   - 按 `Win + R`，输入 `services.msc`
   - 查找 "MySQL" 或 "MySQL80" 服务
   - 如果存在，说明已安装

2. **如果未安装 MySQL**
   - 下载 MySQL：https://dev.mysql.com/downloads/mysql/
   - 或使用 MySQL Installer（推荐）
   - 安装时记住设置的 root 密码！

### 第三步：安装 Python 依赖包

1. **打开命令提示符**
2. **进入项目目录**
   ```bash
   cd D:\py\gradeanal
   ```
3. **安装依赖**
   ```bash
   pip install mysql-connector-python
   ```
   或使用批处理文件：
   ```bash
   双击运行 "安装依赖.bat"
   ```

---

## 启动程序

### 什么是 `python main.py`？

**简单解释**：
- `python` = 运行 Python 程序的命令
- `main.py` = 程序的主文件（入口文件）
- `python main.py` = 告诉电脑："用 Python 运行 main.py 这个文件"

### 启动方法

#### 方法1：使用批处理文件（最简单）⭐

1. **找到文件**：`启动程序.bat`
2. **双击运行**即可

#### 方法2：使用命令行

1. **打开命令提示符或 PowerShell**
2. **进入项目目录**
   ```bash
   cd D:\py\gradeanal
   ```
3. **运行程序**
   ```bash
   python main.py
   ```

### 程序启动后

您会看到一个窗口，包含：
- **菜单栏**（文件、帮助）
- **工具栏**（连接数据库、初始化数据库按钮）
- **标签页**（学生管理、课程管理、成绩管理、查询分析）
- **状态栏**（显示连接状态）

---

## 连接数据库

### 为什么需要连接数据库？

数据库就像仓库，程序需要先"开门"才能存取数据。

### 连接步骤

1. **点击"连接数据库"按钮**
   - 在工具栏或菜单"文件" → "数据库连接"

2. **填写连接信息**
   ```
   主机：localhost（本地数据库，不用改）
   端口：3306（MySQL默认端口，不用改）
   用户名：root（MySQL默认管理员，不用改）
   密码：您安装MySQL时设置的密码 ⚠️ 重要！
   数据库：AcademicWarningSystem（或您想要的名称）
   ```

3. **测试连接**
   - 点击"测试连接"按钮
   - 如果成功，会显示"数据库连接成功！"
   - 如果失败，检查密码是否正确

4. **确定连接**
   - 测试成功后，点击"确定"
   - 状态栏会显示"已连接"（绿色）

### 常见问题

#### 问题1：忘记 MySQL 密码

**解决方法**：
1. 打开 **MySQL Installer**
2. 选择 "Reconfigure"（重新配置）
3. 在配置过程中设置新密码
4. **记住这个新密码！**

#### 问题2：MySQL 服务未启动

**解决方法**：
1. 按 `Win + R`，输入 `services.msc`
2. 找到 "MySQL" 或 "MySQL80" 服务
3. 右键 → 启动

#### 问题3：连接失败

**检查清单**：
- [ ] MySQL 服务是否运行？
- [ ] 密码是否正确？
- [ ] 端口是否为 3306？
- [ ] 主机是否为 localhost？

---

## 初始化数据库

### 什么是初始化？

初始化 = 创建数据库结构（表、视图、触发器、存储过程等）

**类比**：就像盖房子，先建好房间（表）和设施（触发器、存储过程）

### 初始化步骤

1. **确保已连接数据库**（见上一节）

2. **点击"初始化数据库"按钮**
   - 在工具栏或菜单"文件" → "初始化数据库"

3. **确认提示**
   - 会弹出警告："这将重新创建数据库和所有表，现有数据将被删除！"
   - 如果确定，点击"是"

4. **等待完成**
   - 程序会自动执行 SQL 脚本
   - 创建所有表和测试数据
   - 完成后显示"数据库初始化成功！"

### 初始化后

数据库会自动包含：
- ✅ 5 张数据表（学生、课程、成绩等）
- ✅ 3 个视图（用于查询）
- ✅ 4 个触发器（自动计算 GPA）
- ✅ 2 个存储过程（预警功能）
- ✅ 测试数据（7 个学生、11 门课程等）

---

## 使用功能

### 1. 学生管理

**功能**：添加、修改、删除学生信息

**操作**：
1. 点击"学生管理"标签页
2. 点击"添加"按钮 → 填写学生信息 → 确定
3. 选择学生 → 点击"修改"或"删除"
4. 点击"刷新"更新列表

**注意**：
- 学号是主键，不能重复
- 添加学生后，总学分和 GPA 初始为 0
- 录入成绩后会自动更新

### 2. 课程管理

**功能**：管理课程信息

**操作**：
1. 点击"课程管理"标签页
2. 点击"添加" → 填写课程信息
   - 课程号、课程名、学分、课程类型
3. 课程类型：核心 / 通识 / 选修

### 3. 成绩管理

**功能**：录入和管理学生成绩

**操作**：
1. 点击"成绩管理"标签页
2. 点击"添加" → 选择学生、课程、填写成绩和学期
3. **系统自动计算**：
   - 绩点（GPA_Point）：根据成绩自动计算
   - 是否通过：≥60 为通过
   - 学生总学分：自动累加
   - 学生 GPA：自动计算加权平均

**成绩与绩点对应**：
- 90-100 分 → 4.0 绩点
- 80-89 分 → 3.0 绩点
- 70-79 分 → 2.0 绩点
- 60-69 分 → 1.0 绩点
- <60 分 → 0.0 绩点（未通过）

### 4. 查询分析

**功能**：各种数据查询和统计

**可用的查询**：
1. **预警学生名单**：自动筛选需要预警的学生
2. **学生GPA排名**：按 GPA 从高到低排序
3. **不及格课程**：查看核心课程不及格记录
4. **学分完成情况**：查看每位学生的已获学分
5. **院系统计**：各院系平均 GPA 和学分统计
6. **学期统计**：每学期的选课和成绩统计

**操作**：
- 点击左侧的查询选项
- 结果会显示在右侧文本框中

---

## 常见问题

### Q1：程序启动后显示"未连接"

**原因**：还没有连接数据库

**解决**：点击"连接数据库"按钮，填写信息并连接

### Q2：点击"初始化数据库"后报错

**可能原因**：
1. 数据库未连接 → 先连接数据库
2. SQL 文件路径错误 → 检查 `AcademicWarningSystem.sql` 是否存在
3. MySQL 权限不足 → 确保使用 root 用户

### Q3：添加成绩后，学生的 GPA 没有更新

**检查**：
1. 成绩是否 ≥60（只有通过的课程才计入 GPA）
2. 触发器是否正常工作（初始化时已创建）
3. 刷新学生列表查看

### Q4：如何修改数据库名称？

**方法**：
1. 在连接对话框中，修改"数据库"字段
2. 如果数据库不存在，初始化时会自动创建

### Q5：数据保存在哪里？

**答案**：数据保存在 MySQL 数据库中

**查看数据**：
1. 使用 MySQL Workbench（图形工具）
2. 或使用命令行：`mysql -u root -p`

---

## 完整操作流程示例

### 第一次使用

```
1. 安装 Python 和 MySQL（如果未安装）
   ↓
2. 安装依赖：pip install mysql-connector-python
   ↓
3. 启动程序：python main.py 或双击 启动程序.bat
   ↓
4. 连接数据库：点击"连接数据库" → 填写信息 → 测试连接 → 确定
   ↓
5. 初始化数据库：点击"初始化数据库" → 确认
   ↓
6. 开始使用：添加学生、课程、录入成绩等
```

### 日常使用

```
1. 启动程序：python main.py
   ↓
2. 连接数据库（如果未自动连接）
   ↓
3. 使用各项功能：管理学生、课程、成绩
   ↓
4. 查看查询分析结果
```

---

## 重要提示

1. **记住 MySQL 密码**：建议写在安全的地方
2. **定期备份数据**：重要数据建议导出备份
3. **首次使用必须初始化**：否则没有表结构
4. **成绩录入后自动计算**：不需要手动计算 GPA

---

## 需要帮助？

如果遇到问题：
1. 检查错误提示信息
2. 确认 MySQL 服务是否运行
3. 确认密码是否正确
4. 查看控制台输出的错误信息

---

**祝您使用愉快！** 🎓

